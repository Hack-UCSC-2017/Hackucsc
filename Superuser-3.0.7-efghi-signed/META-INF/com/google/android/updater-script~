ui_print("***********************************************");
ui_print("    Superuser 3.0.6 for Android 2.0-3.2");
ui_print("***********************************************");

show_progress(1.000000, 0);

ui_print("  Mounting SYSTEM...");
run_program("/sbin/busybox", "mount", "/system");
set_progress(0.100000);

ui_print("  Deleting SYSTEM:bin/su...");
delete("/system/bin/su");
set_progress(0.200000);

ui_print("  Deleting SYSTEM:xbin/su...");
delete("/system/xbin/su");
set_progress(0.300000);

ui_print("  Extracting files to SYSTEM...");
package_extract_dir("system", "/system");
set_progress(0.400000);

ui_print("  Setting SYSTEM:bin/su permissions to 06755...");
set_perm(0, 0, 06755, "/system/bin/su");
set_progress(0.500000);

ui_print("  Creating SYSTEM:xbin/su symbolic link...");
symlink("/system/bin/su", "/system/xbin/su");
set_progress(0.600000);

ui_print("  Unmounting SYSTEM...");
unmount("/system");
set_progress(0.900000);

ui_print("Install complete. Enjoy!");
set_progress(1.000000);
